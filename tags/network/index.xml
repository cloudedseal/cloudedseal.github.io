<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>keep doing â€“ Network</title><link>https://cloudedseal.github.io/tags/network/</link><description>Recent content in Network on keep doing</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Sat, 11 Sep 2021 16:21:12 +0800</lastBuildDate><atom:link href="https://cloudedseal.github.io/tags/network/index.xml" rel="self" type="application/rss+xml"/><item><title>What-happens-type-url-into-browser-and-press-enter</title><link>https://cloudedseal.github.io/blog/what-happens-type-url-into-browser-and-press-enter/</link><pubDate>Sat, 11 Sep 2021 16:21:12 +0800</pubDate><guid>https://cloudedseal.github.io/blog/what-happens-type-url-into-browser-and-press-enter/</guid><description>
&lt;h2>dns query&lt;span class="hx-absolute -hx-mt-20" id="dns-query">&lt;/span>
&lt;a href="#dns-query" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>get the ip of the target domain&lt;/p>
&lt;h3>browser cache&lt;span class="hx-absolute -hx-mt-20" id="browser-cache">&lt;/span>
&lt;a href="#browser-cache" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>firefox(about:networking#dns)
&lt;img src="https://raw.githubusercontent.com/buybyte/pictures/main/img/firefox_dns_cache.png" alt="firefox_dns_cache" loading="lazy" />&lt;/p>
&lt;h3>/etc/hosts&lt;span class="hx-absolute -hx-mt-20" id="etchosts">&lt;/span>
&lt;a href="#etchosts" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h3>os cache&lt;span class="hx-absolute -hx-mt-20" id="os-cache">&lt;/span>
&lt;a href="#os-cache" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ol>
&lt;li>macos æŸ¥çœ‹ dns è¯·æ±‚æ—¥å¿— sudo log stream &amp;ndash;predicate &amp;lsquo;process == &amp;ldquo;mDNSResponder&amp;rdquo;&amp;rsquo; &amp;ndash;info&lt;/li>
&lt;/ol>
&lt;h3>dns resolver&lt;span class="hx-absolute -hx-mt-20" id="dns-resolver">&lt;/span>
&lt;a href="#dns-resolver" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>/etc/resolv.conf&lt;/p>
&lt;ol>
&lt;li>arp -a æŸ¥çœ‹æœ‰æ²¡æœ‰ dns æœåŠ¡å™¨çš„ mac åœ°å€&lt;/li>
&lt;li>ARP request for the nameserver&lt;/li>
&lt;li>send dns query to get the ip of the domain&lt;/li>
&lt;/ol>
&lt;h2>arp èŽ·å– gateway çš„ mac åœ°å€&lt;span class="hx-absolute -hx-mt-20" id="arp-èŽ·å–-gateway-çš„-mac-åœ°å€">&lt;/span>
&lt;a href="#arp-%e8%8e%b7%e5%8f%96-gateway-%e7%9a%84-mac-%e5%9c%b0%e5%9d%80" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h2>å‘ gateway å‘é€ ip packet&lt;span class="hx-absolute -hx-mt-20" id="å‘-gateway-å‘é€-ip-packet">&lt;/span>
&lt;a href="#%e5%90%91-gateway-%e5%8f%91%e9%80%81-ip-packet" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h2>References&lt;span class="hx-absolute -hx-mt-20" id="references">&lt;/span>
&lt;a href="#references" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ol>
&lt;li>&lt;a href="http://www.science.smith.edu/~nhowe/262/oldlabs/keyboard.html" target="_blank" rel="noopener">keyborad-interrput&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.zhihu.com/question/560616439/answer/2722866208" target="_blank" rel="noopener">Chrome æ˜¯æ€Žä¹ˆåˆ¤æ–­åœ°å€æ è¾“å…¥çš„ä¸œè¥¿æ˜¯ä¸æ˜¯ç½‘å€? è¿™å°±æ˜¯ç¬¬ä¸€æ­¥ðŸ˜‚-omnibox&lt;/a>&lt;/li>
&lt;li>&lt;a href="about:networking#dns" >firefox dns&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.fortinet.com/resources/cyberglossary/what-is-arp" target="_blank" rel="noopener">ARP&lt;/a>&lt;/li>
&lt;/ol></description></item><item><title>network-dhcp</title><link>https://cloudedseal.github.io/blog/network-dhcp/</link><pubDate>Sat, 09 May 2020 09:36:27 +0800</pubDate><guid>https://cloudedseal.github.io/blog/network-dhcp/</guid><description>
&lt;h2>DHCP æ­¥éª¤&lt;span class="hx-absolute -hx-mt-20" id="dhcp-æ­¥éª¤">&lt;/span>
&lt;a href="#dhcp-%e6%ad%a5%e9%aa%a4" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>Discover&lt;span class="hx-absolute -hx-mt-20" id="discover">&lt;/span>
&lt;a href="#discover" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h3>Offer&lt;span class="hx-absolute -hx-mt-20" id="offer">&lt;/span>
&lt;a href="#offer" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h3>Request&lt;span class="hx-absolute -hx-mt-20" id="request">&lt;/span>
&lt;a href="#request" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h3>ACK&lt;span class="hx-absolute -hx-mt-20" id="ack">&lt;/span>
&lt;a href="#ack" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h2>References&lt;span class="hx-absolute -hx-mt-20" id="references">&lt;/span>
&lt;a href="#references" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ol>
&lt;li>&lt;a href="https://mp.weixin.qq.com/s/vU14pBhHTC-oVp1gBpmSvA" target="_blank" rel="noopener">127.0.0.1 å’Œ 0.0.0.0&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://support.microsoft.com/en-gb/help/169289/" target="_blank" rel="noopener">DHCP-Basics&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://medium.com/@bromiley/full-packet-friday-dhcp-abbc6b7b3c77" target="_blank" rel="noopener">full-packet-friday-dhcp&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.geeksforgeeks.org/dynamic-host-configuration-protocol-dhcp/" target="_blank" rel="noopener">dynamic-host-configuration-protocal&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://tools.ietf.org/html/rfc1541" target="_blank" rel="noopener">dhcp-rfc&lt;/a>&lt;/li>
&lt;/ol></description></item><item><title>network-dns</title><link>https://cloudedseal.github.io/blog/network-dns/</link><pubDate>Thu, 23 Apr 2020 10:27:04 +0800</pubDate><guid>https://cloudedseal.github.io/blog/network-dns/</guid><description>
&lt;blockquote>
&lt;p>æ€Žæ ·å­¦ä¹ ä¸€ä¸ªæ–°çš„ä¸œè¥¿ï¼Œä¹Ÿå¯ä»¥æŒ‰ç…§ä¸€å®šçš„å¥—è·¯çš„ã€‚è¿™ä¸ªä¸œè¥¿è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿè¿™ä¸ªä¸œè¥¿æ€Žæ ·è§£å†³é—®é¢˜ï¼Ÿ
è¿˜æœ‰æ²¡æœ‰å…¶ä»–æ–¹æ³•ï¼Ÿ&lt;/p>
&lt;/blockquote>
&lt;h2>ä¸‰æ­¥èµ°åˆ†æžä¸€ä¸‹ DNS&lt;span class="hx-absolute -hx-mt-20" id="ä¸‰æ­¥èµ°åˆ†æžä¸€ä¸‹-dns">&lt;/span>
&lt;a href="#%e4%b8%89%e6%ad%a5%e8%b5%b0%e5%88%86%e6%9e%90%e4%b8%80%e4%b8%8b-dns" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>è§£å†³ä»€ä¹ˆé—®é¢˜&lt;span class="hx-absolute -hx-mt-20" id="è§£å†³ä»€ä¹ˆé—®é¢˜">&lt;/span>
&lt;a href="#%e8%a7%a3%e5%86%b3%e4%bb%80%e4%b9%88%e9%97%ae%e9%a2%98" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>æ ¹æ®åŸŸåæ‰¾åˆ° IPã€‚ä¸ºå•¥è¦æ‰¾åˆ°åŸŸåå¯¹åº”çš„ IP å‘¢ï¼Ÿç­”æ¡ˆå¾ˆç®€å•ï¼Œå› ä¸º &lt;code>TCP/IP&lt;/code> åè®®æ ˆéœ€è¦ã€‚
å¾ˆå¸¸è§çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯æµè§ˆå™¨å¾—åˆ°ä¸€ä¸ª web page çš„æµç¨‹æ˜¯å•¥æ ·çš„ã€‚&lt;/p>
&lt;h3>ä»€ä¹ˆæ–¹å¼è§£å†³é—®é¢˜&lt;span class="hx-absolute -hx-mt-20" id="ä»€ä¹ˆæ–¹å¼è§£å†³é—®é¢˜">&lt;/span>
&lt;a href="#%e4%bb%80%e4%b9%88%e6%96%b9%e5%bc%8f%e8%a7%a3%e5%86%b3%e9%97%ae%e9%a2%98" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>æ€Žæ ·ç»„ç»‡&lt;code>åŸŸå(domain name)&lt;/code>ï¼Ÿè¿™æ˜¯åŸŸåç³»ç»Ÿçš„é¦–è¦é—®é¢˜ã€‚åº•å±‚çš„ç»„ç»‡æž¶æž„ï¼Œå†³å®šäº†åŸŸåè§£æžçš„æµç¨‹ã€‚æœ‰ç‚¹ç»æµŽåŸºç¡€å†³å®šä¸Šå±‚å»ºç­‘çš„æ„æ€ã€‚åŸŸåå°‘çš„æ—¶å€™å¯ä»¥ç›´æŽ¥æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œã€‚å¯¹ï¼Œè¿™ä¸ªæ–‡ä»¶åœ¨ç±» unix ç³»ç»Ÿé‡Œå°±æ˜¯ &lt;code>/etc/hosts&lt;/code> çš„æ–‡ä»¶ã€‚ä½†æ˜¯åŸŸåè¶…çº§å¤šæ€Žä¹ˆåŠžï¼Ÿåˆ†ç±»ã€ç»„æˆå±‚æ¬¡ç»“æž„ã€‚å°±åƒ Linux çš„æ–‡ä»¶ç³»ç»Ÿçš„ç»„ç»‡æ–¹å¼ä¸€æ ·ã€‚ç»„ç»‡æˆä¸€ä¸ªæ ‘çŠ¶ç»“æž„ã€‚DNS çš„æŸ¥è¯¢é—®é¢˜ï¼Œé‚£å°±å¯ä»¥è§†ä¸ºæ ‘çš„éåŽ†é—®é¢˜ã€‚&lt;/p>
&lt;h4>top level domain&lt;span class="hx-absolute -hx-mt-20" id="top-level-domain">&lt;/span>
&lt;a href="#top-level-domain" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>&lt;code>com&lt;/code>ã€&lt;code>org&lt;/code>ã€ &lt;code>cn&lt;/code> ç­‰ç­‰å°±æ˜¯æ‰€è°“çš„&lt;a href="http://data.iana.org/TLD/tlds-alpha-by-domain.txt" target="_blank" rel="noopener">é¡¶çº§åŸŸå&lt;/a>ã€‚ä¹Ÿå°±æ˜¯ä¸€çº§åŸŸåã€‚é‚£ä¹ˆé—®é¢˜å°±æ¥äº†ï¼Œè¿™äº›é¡¶çº§åŸŸåå­˜æ”¾åœ¨å“ªå‘¢ï¼Ÿå­˜æ”¾åˆ° &lt;a href="https://www.cloudflare.com/learning/dns/glossary/dns-root-server/" target="_blank" rel="noopener">root server&lt;/a>ã€‚æ¢ä¸€ç§ç†è§£æ–¹æ³•å°±æ˜¯ï¼Œè¿™äº› root server å°±æ˜¯é¡¶çº§åŸŸåçš„ metadataã€‚è¿™äº› &lt;a href="https://www.iana.org/domains/root/servers" target="_blank" rel="noopener">root server IP&lt;/a> æ˜¯å›ºå®šçš„ã€‚å®žçŽ° DNS è¿™ä¸ªåŠŸèƒ½çš„è½¯ä»¶å†…ç½®è¿™äº› root server çš„ ipã€‚è¿™ä¸€ç‚¹å¾ˆé‡è¦ã€‚&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">rpm -ql &lt;span class="nb">bind&lt;/span> &lt;span class="p">|&lt;/span> grep named.ca
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/usr/share/doc/bind-9.11.4/sample/var/named/named.ca
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/var/named/named.ca&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;blockquote>
&lt;p>centos ä¸Šå®‰è£… &lt;code>bind9&lt;/code> è¿™ä¸ªæ–‡ä»¶åŒ…å«æ‰€æœ‰çš„ root servers çš„ ip&lt;/p>
&lt;/blockquote>
&lt;h4>second level domain&lt;span class="hx-absolute -hx-mt-20" id="second-level-domain">&lt;/span>
&lt;a href="#second-level-domain" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>ä»¥ &lt;code>www.google.com.&lt;/code> ä¸ºä¾‹ &lt;code>google&lt;/code> å°±æ˜¯äºŒçº§åŸŸåã€‚å…¶ä»–çš„ä¾æ­¤ç±»æŽ¨ã€‚&lt;/p>
&lt;h4>DNS å±‚çº§æ ‘&lt;span class="hx-absolute -hx-mt-20" id="dns-å±‚çº§æ ‘">&lt;/span>
&lt;a href="#dns-%e5%b1%82%e7%ba%a7%e6%a0%91" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>&lt;img src="https://github.com/stardustman/pictures/raw/main/img/dns-hierarchy.svg" alt="DNS å±‚çº§æ ‘" loading="lazy" />&lt;/p>
&lt;blockquote>
&lt;p>å¯ä»¥çœ‹åˆ°æ•´ä¸ª DNS çš„å…¥å£å°±æ˜¯ rootã€‚ä¹Ÿå°±æ˜¯è®°å½•é¡¶çº§åŸŸååœ¨å“ªäº›æœåŠ¡å™¨ä¸Šçš„ä¿¡æ¯ã€‚è¿™æ˜¯ &lt;code>root&lt;/code> ä¹Ÿå°±æ˜¯ä¸éœ€è¦è§£æžè¿™äº›è®°å½•é¡¶çº§åŸŸåçš„æœåŠ¡å™¨ã€‚ç›´æŽ¥å›ºå®šäº†è¿™äº› &lt;a href="https://www.iana.org/domains/root/servers" target="_blank" rel="noopener">root server çš„ IP&lt;/a> åœ°å€ã€‚å®žçŽ° DNS åŠŸèƒ½çš„è½¯ä»¶ï¼Œç›´æŽ¥å†…ç½®è¿™äº›å›ºå®šçš„ IPã€‚DNS æŸ¥è¯¢ç¬¬ä¸€æ­¥å°±æ˜¯å‘è¿™äº› root server æŸ¥è¯¢é¡¶çº§åŸŸåå¯¹åº”å“ªäº› nameserverï¼Œä¹Ÿå°±æ˜¯é¡¶çº§åŸŸåå¯¹åº”çš„ IPã€‚å…¶å®ž DNSä¹Ÿå°±æ˜¯ä¸ªåˆ†å¸ƒå¼å±‚çº§æ•°æ®åº“ã€‚æ³¨å†ŒåŸŸåä¹Ÿå°±æ˜¯å‘æ•°æ®åº“æ·»åŠ ä¸€æ¡è®°å½•ã€‚ä½†æ˜¯ä¸æ˜¯å…è´¹æ³¨å†Œçš„ã€‚&lt;/p>
&lt;/blockquote>
&lt;h4>DNS Zone&lt;span class="hx-absolute -hx-mt-20" id="dns-zone">&lt;/span>
&lt;a href="#dns-zone" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>&lt;img src="https://github.com/stardustman/pictures/raw/main/img/dns-zone.svg" alt="DNS Zone" loading="lazy" />&lt;/p>
&lt;blockquote>
&lt;p>å¯ä»¥çœ‹åˆ°æ•´ä¸ª DNS å±‚çº§æ ‘ï¼Œæ¯ä¸€ä¸ªèŠ‚ç‚¹å¯¹åº”ä¸€ä¸ª Zoneã€‚&lt;/p>
&lt;/blockquote>
&lt;h4>uncached DNS lookup&lt;span class="hx-absolute -hx-mt-20" id="uncached-dns-lookup">&lt;/span>
&lt;a href="#uncached-dns-lookup" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>&lt;img src="https://github.com/stardustman/pictures/raw/main/img/network-dns.svg" alt="dns-look-up" loading="lazy" />&lt;/p>
&lt;blockquote>
&lt;p>å›¾ä¸­ &lt;code>OS stub resovler&lt;/code> å°±æ˜¯è´Ÿè´£ DNS è§£æžçš„è¿›ç¨‹ï¼Œå‘èµ· DNS é€’å½’æŸ¥è¯¢è¯·æ±‚ã€‚
&lt;code>local dns server&lt;/code> å‘èµ·è¿­ä»£æŸ¥è¯¢ï¼ŒæŸ¥è¯¢åŸŸåå¯¹åº”çš„ IPã€‚ä¹‹åŽè¿”ç»™ &lt;code>OS stub resovler&lt;/code>(name servers that provide the complete answers to user queries)ã€‚&lt;/p>
&lt;/blockquote>
&lt;ol>
&lt;li>è¿™ä¸ªè¿›ç¨‹å‘ &lt;code>local dns server&lt;/code> å‘èµ·é€’å½’æŸ¥è¯¢ã€‚ä¹Ÿå°±æ˜¯åªéœ€è¦ç­‰ &lt;code>local dns server&lt;/code> æŸ¥è¯¢ç»“æžœå°±è¡Œã€‚&lt;/li>
&lt;li>&lt;code>local dns server&lt;/code> å‘èµ·è¿­ä»£æŸ¥è¯¢ã€‚å› ä¸º &lt;code>local dns server&lt;/code> æœ‰æ‰€æœ‰ root server çš„ IPï¼Œé€‰æ‹©ä¸€ä¸ª IPï¼Œæ ¹æ®é¡¶çº§åŸŸåå±žäºŽå“ªä¸€ä¸ª &lt;code>TLD Zone&lt;/code>ï¼Œ å‘èµ·è¿­ä»£æŸ¥è¯¢ã€‚&lt;/li>
&lt;li>å¯ä»¥æŸ¥è¯¢å¾—åˆ°è®°å½•è¿™ä¸ªé¡¶çº§åŸŸåçš„ TLD server æœ‰å“ªäº›ï¼Œä»¥åŠè¿™äº›æœåŠ¡å™¨çš„ IPã€‚&lt;/li>
&lt;li>&lt;code>local dns server&lt;/code> é€‰æ‹©ä¸€ä¸ª TLD serverï¼Œå‘èµ·è¿­ä»£æŸ¥è¯¢ã€‚&lt;/li>
&lt;li>å¾—åˆ°è¿™ä¸ªåŸŸåçš„æƒå¨æœåŠ¡å™¨ã€‚&lt;/li>
&lt;li>é€‰æ‹©ä¸€ä¸ªæƒå¨æœåŠ¡å™¨ï¼Œå‘èµ·è¿­ä»£æŸ¥è¯¢ï¼ŒæŸ¥è¯¢åŸŸåå¯¹åº”çš„ IPã€‚&lt;/li>
&lt;li>&lt;code>local dns server&lt;/code> ä»Žæƒå¨æœåŠ¡å™¨å¾—åˆ°åŸŸåå¯¹åº”çš„ IPã€‚&lt;/li>
&lt;li>è¿”è¿˜ç»™ &lt;code>OS stub resovler&lt;/code>ã€‚é€’å½’æŸ¥è¯¢ç»“æŸã€‚&lt;/li>
&lt;/ol>
&lt;blockquote>
&lt;p>Systems normally lookup any name (including domain names) using the hosts file first (if present), followed by DNS.
However, the nsswitch.conf file (typically in /etc) controls this order (normally hosts: file dns), allowing the order to be changed or the file value to be deleted entirely depending on local needs.&lt;/p>
&lt;/blockquote>
&lt;h3>æœ‰æ²¡æœ‰å…¶ä»–è§£å†³æ–¹æ¡ˆ&lt;span class="hx-absolute -hx-mt-20" id="æœ‰æ²¡æœ‰å…¶ä»–è§£å†³æ–¹æ¡ˆ">&lt;/span>
&lt;a href="#%e6%9c%89%e6%b2%a1%e6%9c%89%e5%85%b6%e4%bb%96%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h2>dig å‘½ä»¤&lt;span class="hx-absolute -hx-mt-20" id="dig-å‘½ä»¤">&lt;/span>
&lt;a href="#dig-%e5%91%bd%e4%bb%a4" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>dig domainname&lt;span class="hx-absolute -hx-mt-20" id="dig-domainname">&lt;/span>
&lt;a href="#dig-domainname" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;pre>&lt;code> ~ dig github.com
; &amp;lt;&amp;lt;&amp;gt;&amp;gt; DiG 9.10.6 &amp;lt;&amp;lt;&amp;gt;&amp;gt; github.com
;; global options: &amp;#43;cmd
;; Got answer:
;; -&amp;gt;&amp;gt;HEADER&amp;lt;&amp;lt;- opcode: QUERY, status: NOERROR, id: 23033
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0
;; QUESTION SECTION:
;github.com. IN A
;; ANSWER SECTION:
github.com. 17 IN A 52.74.223.119 # github.com. è¿™ä¸ªåŸŸåå¯¹åº”çš„ä¸€ä¸ª ip
;; Query time: 14 msec
;; SERVER: 61.139.2.69#53(61.139.2.69)
;; WHEN: Thu Apr 23 19:53:17 CST 2020
;; MSG SIZE rcvd: 44&lt;/code>&lt;/pre>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>wireshark æŠ“åŒ…éªŒè¯å®žé™…çš„ç½‘ç»œæž¶æž„&lt;span class="hx-absolute -hx-mt-20" id="wireshark-æŠ“åŒ…éªŒè¯å®žé™…çš„ç½‘ç»œæž¶æž„">&lt;/span>
&lt;a href="#wireshark-%e6%8a%93%e5%8c%85%e9%aa%8c%e8%af%81%e5%ae%9e%e9%99%85%e7%9a%84%e7%bd%91%e7%bb%9c%e6%9e%b6%e6%9e%84" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h4>TCP/IP stack&lt;span class="hx-absolute -hx-mt-20" id="tcpip-stack">&lt;/span>
&lt;a href="#tcpip-stack" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>&lt;img src="https://github.com/stardustman/pictures/raw/main/img/tcp-ip-stack-dns.png" alt="tcp-ip-stack" loading="lazy" />&lt;/p>
&lt;h3>dig +trace domainname&lt;span class="hx-absolute -hx-mt-20" id="dig-trace-domainname">&lt;/span>
&lt;a href="#dig-trace-domainname" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">~ dig +trace github.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">;&lt;/span> &amp;lt;&amp;lt;&amp;gt;&amp;gt; DiG 9.10.6 &amp;lt;&amp;lt;&amp;gt;&amp;gt; +trace github.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">;;&lt;/span> global options: +cmd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">. &lt;span class="m">81219&lt;/span> IN NS k.root-servers.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">. &lt;span class="m">81219&lt;/span> IN NS e.root-servers.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">. &lt;span class="m">81219&lt;/span> IN NS b.root-servers.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">. &lt;span class="m">81219&lt;/span> IN NS a.root-servers.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">. &lt;span class="m">81219&lt;/span> IN NS m.root-servers.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">. &lt;span class="m">81219&lt;/span> IN NS l.root-servers.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">. &lt;span class="m">81219&lt;/span> IN NS d.root-servers.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">. &lt;span class="m">81219&lt;/span> IN NS f.root-servers.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">. &lt;span class="m">81219&lt;/span> IN NS g.root-servers.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">. &lt;span class="m">81219&lt;/span> IN NS h.root-servers.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">. &lt;span class="m">81219&lt;/span> IN NS j.root-servers.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">. &lt;span class="m">81219&lt;/span> IN NS c.root-servers.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">. &lt;span class="m">81219&lt;/span> IN NS i.root-servers.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">;;&lt;/span> Received &lt;span class="m">228&lt;/span> bytes from 61.139.2.69#53&lt;span class="o">(&lt;/span>61.139.2.69&lt;span class="o">)&lt;/span> in &lt;span class="m">15&lt;/span> ms &lt;span class="c1">#local dns serverï¼Œæœ¬åœ° DNS æ‹¥æœ‰å®Œæ•´çš„ root server ip åˆ—è¡¨ã€‚å†…ç½®åˆ°æœ¬åœ° DNS æœåŠ¡å™¨ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">com. &lt;span class="m">172800&lt;/span> IN NS l.gtld-servers.net. &lt;span class="c1"># è®°å½• com. è¿™ä¸ªé¡¶çº§åŸŸåçš„æœåŠ¡å™¨ï¼Œgeneric top level domain server&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">com. &lt;span class="m">172800&lt;/span> IN NS b.gtld-servers.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">com. &lt;span class="m">172800&lt;/span> IN NS c.gtld-servers.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">com. &lt;span class="m">172800&lt;/span> IN NS d.gtld-servers.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">com. &lt;span class="m">172800&lt;/span> IN NS e.gtld-servers.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">com. &lt;span class="m">172800&lt;/span> IN NS f.gtld-servers.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">com. &lt;span class="m">172800&lt;/span> IN NS g.gtld-servers.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">com. &lt;span class="m">172800&lt;/span> IN NS a.gtld-servers.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">com. &lt;span class="m">172800&lt;/span> IN NS h.gtld-servers.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">com. &lt;span class="m">172800&lt;/span> IN NS i.gtld-servers.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">com. &lt;span class="m">172800&lt;/span> IN NS j.gtld-servers.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">com. &lt;span class="m">172800&lt;/span> IN NS k.gtld-servers.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">com. &lt;span class="m">172800&lt;/span> IN NS m.gtld-servers.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">com. &lt;span class="m">86400&lt;/span> IN DS &lt;span class="m">30909&lt;/span> &lt;span class="m">8&lt;/span> &lt;span class="m">2&lt;/span> E2D3C916F6DEEAC73294E8268FB5885044A833FC5459588F4A9184CF C41A5766
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">com. &lt;span class="m">86400&lt;/span> IN RRSIG DS &lt;span class="m">8&lt;/span> &lt;span class="m">1&lt;/span> &lt;span class="m">86400&lt;/span> &lt;span class="m">20200506050000&lt;/span> &lt;span class="m">20200423040000&lt;/span> &lt;span class="m">48903&lt;/span> . Enqd4bffSJHlv8mqHcAptS9+fHo3cg6vCIQgrOZ3aBfx2nG4CjS27iEG 6u6NsPfcKVrz7RoU2xDtDMNJOcMBJdJe/lGNeo14N69SM0/MV2Z8wZBD HRPd2Y8Z1nyc7EnDbkFzuWV5G6vafaQa4KTQpG6jGOPIQpYESNiinxfy 0QQWUJELvjSOideCPqQcug2P2Pln7BzWiqFSg6I8d1h44349LsXcbr5W zJwZQJKLoDd0ysyGl5Bq3UZgfWYvTJFmmZ/OwKYT4QQ4BE0MtbVwae8X 9yI6d9jENsz+eebEEtxLt6o/LNQb3PdNhUH1PC1pxfHiEiNyYUcvbJdf &lt;span class="nv">Flgntg&lt;/span>&lt;span class="o">==&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">;;&lt;/span> Received &lt;span class="m">1170&lt;/span> bytes from 192.203.230.10#53&lt;span class="o">(&lt;/span>e.root-servers.net&lt;span class="o">)&lt;/span> in &lt;span class="m">211&lt;/span> ms &lt;span class="c1"># ä»Ž e.root-servers.net è¿™ä¸ª root server æŸ¥è¯¢åˆ°çš„ TLD nameseverï¼Œä¹Ÿå°±æ˜¯å­˜å‚¨ com. è¿™ä¸ªé¡¶çº§åŸŸåçš„æœåŠ¡å™¨ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">github.com. &lt;span class="m">172800&lt;/span> IN NS ns1.p16.dynect.net. &lt;span class="c1"># è®°å½• github.com. è¿™ä¸ªåŸŸåçš„æƒå¨æœåŠ¡å™¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">github.com. &lt;span class="m">172800&lt;/span> IN NS ns3.p16.dynect.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">github.com. &lt;span class="m">172800&lt;/span> IN NS ns2.p16.dynect.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">github.com. &lt;span class="m">172800&lt;/span> IN NS ns4.p16.dynect.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">github.com. &lt;span class="m">172800&lt;/span> IN NS ns-520.awsdns-01.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">github.com. &lt;span class="m">172800&lt;/span> IN NS ns-421.awsdns-52.com.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">github.com. &lt;span class="m">172800&lt;/span> IN NS ns-1707.awsdns-21.co.uk.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">github.com. &lt;span class="m">172800&lt;/span> IN NS ns-1283.awsdns-32.org.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">CK0POJMG874LJREF7EFN8430QVIT8BSM.com. &lt;span class="m">86400&lt;/span> IN NSEC3 &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> &lt;span class="m">0&lt;/span> - CK0Q1GIN43N1ARRC9OSM6QPQR81H5M9A NS SOA RRSIG DNSKEY NSEC3PARAM
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">CK0POJMG874LJREF7EFN8430QVIT8BSM.com. &lt;span class="m">86400&lt;/span> IN RRSIG NSEC3 &lt;span class="m">8&lt;/span> &lt;span class="m">2&lt;/span> &lt;span class="m">86400&lt;/span> &lt;span class="m">20200427045033&lt;/span> &lt;span class="m">20200420034033&lt;/span> &lt;span class="m">39844&lt;/span> com. BDAWMm4AsSRfrBwOXhNN8ihw++J2UkhEk8A6LeSIz1llDs5kt0CcOqTM OK1txlQNr3N0k1RTBW/hkEZ1mxjIHF2GARt/hpO43ILPBVs/vhKAKCKh A96XJG+NzN0t/heB6mFNASKAcmVdfT5a0tVkmmzhGktDp5ECdZAIFRhZ &lt;span class="nv">8y6jxsUhGP7ZiN1AfFBi1cWeSth5FW4Btpy9RffVKg5lIA&lt;/span>&lt;span class="o">==&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">4KB4DFS71LEP8G8P8VT4CCUSQNL4CNCS.com. &lt;span class="m">86400&lt;/span> IN NSEC3 &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> &lt;span class="m">0&lt;/span> - 4KB4PTQQ5CTA7POCTGM7RUFC8B1RKTEU NS DS RRSIG
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">4KB4DFS71LEP8G8P8VT4CCUSQNL4CNCS.com. &lt;span class="m">86400&lt;/span> IN RRSIG NSEC3 &lt;span class="m">8&lt;/span> &lt;span class="m">2&lt;/span> &lt;span class="m">86400&lt;/span> &lt;span class="m">20200428061912&lt;/span> &lt;span class="m">20200421050912&lt;/span> &lt;span class="m">39844&lt;/span> com. PFN1p6XvR4SmD4ucRULmtYIMQkFf/ZrdEWz6bRVtcepYF6QwTC/VOVYM 7PV0tuTTdr1LqkUwQJ7mv23vtKnjFba2Cf7pBOTz9JuCHUC0Qml9cOc6 Cwjhx7haj6h0VEzS+oIY7l2p/af/B36iQCXASVN3Y6s/i+66iXIg905z GqFnAKOgR0R4KJx5KwHIzBkgxr/I/SyCd+HNw+2fr15X0w&lt;span class="o">==&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">;;&lt;/span> Received &lt;span class="m">824&lt;/span> bytes from 192.26.92.30#53&lt;span class="o">(&lt;/span>c.gtld-servers.net&lt;span class="o">)&lt;/span> in &lt;span class="m">173&lt;/span> ms &lt;span class="c1"># ä»Ž c.gtld-servers.net è¿™ä¸ª TLD nameserver æŸ¥è¯¢åˆ°å­˜å‚¨ github.com. è¿™ä¸ªåŸŸåçš„æƒå¨æœåŠ¡å™¨ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">github.com. &lt;span class="m">60&lt;/span> IN A 13.250.177.223 &lt;span class="c1"># å¾—åˆ°äº† github.com. è¿™ä¸ªåŸŸåçš„ä¸€ä¸ª ip&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">github.com. &lt;span class="m">900&lt;/span> IN NS ns-1707.awsdns-21.co.uk.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">github.com. &lt;span class="m">900&lt;/span> IN NS ns3.p16.dynect.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">github.com. &lt;span class="m">900&lt;/span> IN NS ns2.p16.dynect.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">github.com. &lt;span class="m">900&lt;/span> IN NS ns-1283.awsdns-32.org.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">github.com. &lt;span class="m">900&lt;/span> IN NS ns-421.awsdns-52.com.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">github.com. &lt;span class="m">900&lt;/span> IN NS ns-520.awsdns-01.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">github.com. &lt;span class="m">900&lt;/span> IN NS ns4.p16.dynect.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">github.com. &lt;span class="m">900&lt;/span> IN NS ns1.p16.dynect.net.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">;;&lt;/span> Received &lt;span class="m">275&lt;/span> bytes from 204.13.250.16#53&lt;span class="o">(&lt;/span>ns2.p16.dynect.net&lt;span class="o">)&lt;/span> in &lt;span class="m">198&lt;/span> ms ä»Ž ns2.p16.dynect.net è¿™ä¸ªæƒå¨æœåŠ¡å™¨æŸ¥è¯¢åˆ°çš„ github.com. çš„ ip æ˜¯ 13.250.177.223ã€‚è‡³æ­¤ï¼Œå¾—åˆ°åŸŸåå¯¹åº”çš„ ipã€‚&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h2>DNS è®°å½•ç±»åž‹&lt;span class="hx-absolute -hx-mt-20" id="dns-è®°å½•ç±»åž‹">&lt;/span>
&lt;a href="#dns-%e8%ae%b0%e5%bd%95%e7%b1%bb%e5%9e%8b" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>CNAME&lt;span class="hx-absolute -hx-mt-20" id="cname">&lt;/span>
&lt;a href="#cname" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;code>Canonical Name&lt;/code> åŸŸåæŒ‡å‘å¦ä¸€ä¸ªåŸŸåã€‚è§ä¸‹å›¾ï¼š&lt;/p>
&lt;div class="hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl"> dig -t cname music.163.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">;&lt;/span> &amp;lt;&amp;lt;&amp;gt;&amp;gt; DiG 9.10.6 &amp;lt;&amp;lt;&amp;gt;&amp;gt; -t cname music.163.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">;;&lt;/span> global options: +cmd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">;;&lt;/span> Got answer:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">;;&lt;/span> -&amp;gt;&amp;gt;HEADER&lt;span class="s">&amp;lt;&amp;lt;- opco&lt;/span>de: QUERY, status: NOERROR, id: &lt;span class="m">12400&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">;;&lt;/span> flags: qr aa rd ra&lt;span class="p">;&lt;/span> QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">;;&lt;/span> QUESTION SECTION:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">;&lt;/span>music.163.com. IN CNAME
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">;;&lt;/span> ANSWER SECTION:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">music.163.com. 1 IN CNAME music.ntes53.netease.com.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">;;&lt;/span> Query time: &lt;span class="m">0&lt;/span> msec
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">;;&lt;/span> SERVER: 198.18.0.2#53&lt;span class="o">(&lt;/span>198.18.0.2&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">;;&lt;/span> WHEN: Fri Oct &lt;span class="m">06&lt;/span> 11:41:17 CST &lt;span class="m">2023&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">;;&lt;/span> MSG SIZE rcvd: &lt;span class="m">82&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0">
&lt;button
class="hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;div class="success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>A&lt;span class="hx-absolute -hx-mt-20" id="a">&lt;/span>
&lt;a href="#a" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;code>address&lt;/code> ip address&lt;/p>
&lt;h3>NS&lt;span class="hx-absolute -hx-mt-20" id="ns">&lt;/span>
&lt;a href="#ns" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;code>name server&lt;/code> ä¿å­˜ä¸‹ä¸€çº§åŸŸåçš„æœåŠ¡å™¨ï¼Œåªè®¾ç½®æˆåŸŸåã€‚&lt;/p>
&lt;h3>PTR&lt;span class="hx-absolute -hx-mt-20" id="ptr">&lt;/span>
&lt;a href="#ptr" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;code>pointer record&lt;/code>ï¼Œæ ¹æ® ip æŸ¥è¯¢åŸŸåã€‚ç±»ä¼¼ ARPï¼Œç”¨ ip æ‰¾ MAC åœ°å€ã€‚&lt;/p>
&lt;h3>MX&lt;span class="hx-absolute -hx-mt-20" id="mx">&lt;/span>
&lt;a href="#mx" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>mail exchange ç”µå­é‚®ä»¶æœåŠ¡å™¨&lt;/p>
&lt;h3>TXT&lt;span class="hx-absolute -hx-mt-20" id="txt">&lt;/span>
&lt;a href="#txt" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;a href="https://allagora.wordpress.com/2022/03/22/use-dns-txt-lookup-to-gain-quick-insights-which-services-companies-are-using/" target="_blank" rel="noopener">å¯ä»¥èŽ·å–è¿™ä¸ªç½‘ç«™åœ¨ä½¿ç”¨é‚£äº›ç¬¬ä¸‰æ–¹æœåŠ¡&lt;/a>&lt;/p>
&lt;h2>Reference&lt;span class="hx-absolute -hx-mt-20" id="reference">&lt;/span>
&lt;a href="#reference" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ol>
&lt;li>&lt;a href="https://www.ruanyifeng.com/blog/2016/06/dns.html" target="_blank" rel="noopener">DNS å…¥é—¨&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://kilyos.ee.bilkent.edu.tr/~ee538/lecture1.pdf" target="_blank" rel="noopener">Introduction and Layered Network Architecture&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.iana.org/domains/root/servers" target="_blank" rel="noopener">root servers ips&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://root-servers.org/" target="_blank" rel="noopener">all-root-servers&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://tools.ietf.org/html/rfc2929" target="_blank" rel="noopener">rfc-dns&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.cloudflare.com/learning/dns/dns-server-types/" target="_blank" rel="noopener">dns-server-types&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.cloudflare.com/learning/dns/what-is-dns/" target="_blank" rel="noopener">what is dns&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.cloudflare.com/learning/dns/what-is-recursive-dns/" target="_blank" rel="noopener">what is recursive dns&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://simpledns.plus/help/dns-record-types" target="_blank" rel="noopener">dns record types&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.cs.cmu.edu/~pattis/15-1XX/common/handouts/ascii.html" target="_blank" rel="noopener">ascii&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.cloudflare.com/learning/dns/glossary/dns-zone/" target="_blank" rel="noopener">dns-zone&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://bind9.readthedocs.io/en/v9.18.21/chapter3.html#localhost-zone-file" target="_blank" rel="noopener">zone-file&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://viewdns.info/" target="_blank" rel="noopener">viewdns&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://allagora.wordpress.com/2022/03/22/use-dns-txt-lookup-to-gain-quick-insights-which-services-companies-are-using/" target="_blank" rel="noopener">dns record txt&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.nslookup.io/" target="_blank" rel="noopener">https://www.nslookup.io/&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://whois.gandi.net/zh-hans" target="_blank" rel="noopener">åŸŸåä¿¡æ¯æŸ¥è¯¢&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.dnsperf.com/" target="_blank" rel="noopener">dnså»¶è¿Ÿæµ‹è¯•&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://messwithdns.net/" target="_blank" rel="noopener">dnså®žè·µ&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/ogham/dog" target="_blank" rel="noopener">dns-client-dog&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/mr-karan/doggo" target="_blank" rel="noopener">dns-client-doggo&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://dnsspeedtest.online/" target="_blank" rel="noopener">dnsé€Ÿåº¦æµ‹è¯•&lt;/a>&lt;/li>
&lt;/ol></description></item><item><title>wireshark</title><link>https://cloudedseal.github.io/blog/wireshark/</link><pubDate>Tue, 10 Sep 2019 09:51:07 +0800</pubDate><guid>https://cloudedseal.github.io/blog/wireshark/</guid><description>
&lt;h2>Wireshark Windows é…ç½® SSL&lt;span class="hx-absolute -hx-mt-20" id="wireshark-windows-é…ç½®-ssl">&lt;/span>
&lt;a href="#wireshark-windows-%e9%85%8d%e7%bd%ae-ssl" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;blockquote>
&lt;p>Version 3.0.3&lt;/p>
&lt;/blockquote>
&lt;h3>é…ç½® SSLKEYLOGFILE ç³»ç»Ÿå˜é‡&lt;span class="hx-absolute -hx-mt-20" id="é…ç½®-sslkeylogfile-ç³»ç»Ÿå˜é‡">&lt;/span>
&lt;a href="#%e9%85%8d%e7%bd%ae-sslkeylogfile-%e7%b3%bb%e7%bb%9f%e5%8f%98%e9%87%8f" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;img src="https://github.com/stardustman/pictures/raw/main/img/SSLKEYLOGFILE.png" alt="ç³»ç»Ÿå˜é‡ SSLKEYLOGFILE" loading="lazy" />&lt;/p>
&lt;h3>é…ç½® Wireshark&lt;span class="hx-absolute -hx-mt-20" id="é…ç½®-wireshark">&lt;/span>
&lt;a href="#%e9%85%8d%e7%bd%ae-wireshark" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;blockquote>
&lt;p>ç¼–è¾‘ -&amp;gt; é¦–é€‰é¡¹ -&amp;gt; Protocols -&amp;gt; TLS
&lt;img src="https://github.com/stardustman/pictures/raw/main/img/wireshark_tls_logfile.png" alt="Wireshark é…ç½® TLS logfile" loading="lazy" />&lt;/p>
&lt;/blockquote>
&lt;h3>é‡å¯ Wireshark&lt;span class="hx-absolute -hx-mt-20" id="é‡å¯-wireshark">&lt;/span>
&lt;a href="#%e9%87%8d%e5%90%af-wireshark" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h2>è¿‡æ»¤å™¨æŸ¥çœ‹&lt;span class="hx-absolute -hx-mt-20" id="è¿‡æ»¤å™¨æŸ¥çœ‹">&lt;/span>
&lt;a href="#%e8%bf%87%e6%bb%a4%e5%99%a8%e6%9f%a5%e7%9c%8b" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;blockquote>
&lt;p>è§†å›¾ -&amp;gt; å†…éƒ¨ -&amp;gt; æ”¯æŒçš„åè®®&lt;/p>
&lt;/blockquote></description></item><item><title>master-ip</title><link>https://cloudedseal.github.io/blog/master-ip/</link><pubDate>Tue, 04 Jun 2019 15:32:28 +0800</pubDate><guid>https://cloudedseal.github.io/blog/master-ip/</guid><description>
&lt;h1>Motivation&lt;/h1>&lt;p>The Internet Protocol is designed for use in interconnected systems of &lt;strong>packet-switched&lt;/strong> computer communication networks. Such a system has been called a &amp;ldquo;catenet&amp;rdquo;. The internet protocol provides for transmitting blocks of data called datagrams from sources to destinations, where sources and destinations are hosts identified by &lt;strong>fixed length addresses&lt;/strong>. The internet protocol also provides for &lt;strong>fragmentation&lt;/strong> and &lt;strong>reassembly&lt;/strong> of long datagrams, if necessary, for transmission through &amp;ldquo;small packet&amp;rdquo; networks.&lt;/p>
&lt;blockquote>
&lt;p>IPv4 is a connectionless protocol for use on packet-switched networks. It operates on a best effort delivery model, in that it does not guarantee delivery, nor does it assure proper sequencing or avoidance of duplicate delivery. These aspects, including data integrity, are addressed by an upper layer transport protocol, such as the Transmission Control Protocol (TCP).&lt;/p>
&lt;/blockquote>
&lt;h1>IP header format&lt;/h1>&lt;p>&lt;img src="https://github.com/stardustman/pictures/raw/main/img/ip-header-format.png" alt="ip-header-format" loading="lazy" />&lt;/p>
&lt;h1>Ip datagram&lt;/h1>&lt;p>&lt;img src="https://github.com/stardustman/pictures/raw/main/img/ip-format.png" alt="ip-format" loading="lazy" />&lt;/p>
&lt;h1>IPV4 example&lt;/h1>&lt;p>&lt;img src="https://github.com/stardustman/pictures/raw/main/img/ip-capture-wireshark.jpg" alt="ip-capture-wireshark" loading="lazy" />&lt;/p>
&lt;p>&lt;img src="https://github.com/stardustman/pictures/raw/main/img/ip-capture-wireshark-example.png" alt="ip-capture-wireshark-example" loading="lazy" />&lt;/p>
&lt;h2>version(4 bits)&lt;span class="hx-absolute -hx-mt-20" id="version4-bits">&lt;/span>
&lt;a href="#version4-bits" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>0x4(4)&lt;/p>
&lt;h2>Header Length(4 bits)&lt;span class="hx-absolute -hx-mt-20" id="header-length4-bits">&lt;/span>
&lt;a href="#header-length4-bits" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>0x5(5)&lt;/p>
&lt;h2>Type Of Service(TOS)(8 bits)&lt;span class="hx-absolute -hx-mt-20" id="type-of-servicetos8-bits">&lt;/span>
&lt;a href="#type-of-servicetos8-bits" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>0x00(0)&lt;/p>
&lt;h2>Total Length(16 bits)&lt;span class="hx-absolute -hx-mt-20" id="total-length16-bits">&lt;/span>
&lt;a href="#total-length16-bits" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>0x28(40)&lt;/p>
&lt;h2>Identification(16 bits)&lt;span class="hx-absolute -hx-mt-20" id="identification16-bits">&lt;/span>
&lt;a href="#identification16-bits" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>0xd279&lt;/p>
&lt;h2>Flags(3 bits)&lt;span class="hx-absolute -hx-mt-20" id="flags3-bits">&lt;/span>
&lt;a href="#flags3-bits" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>0x4 0100&lt;/p>
&lt;ol>
&lt;li>0 Reserved bit not set&lt;/li>
&lt;li>1 Don&amp;rsquo;t fragment set&lt;/li>
&lt;li>0 More fragments not set&lt;/li>
&lt;/ol>
&lt;h2>Fragment Offset(13 bits)&lt;span class="hx-absolute -hx-mt-20" id="fragment-offset13-bits">&lt;/span>
&lt;a href="#fragment-offset13-bits" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;blockquote>
&lt;p>This field indicates where in the datagram this fragment belongs.
The fragment offset is measured in units of 8 octets (64 bits). The
first fragment has offset zero.&lt;/p>
&lt;/blockquote>
&lt;p>0x000 (0000 0000 0000)&lt;/p>
&lt;h2>Time to Live(TTL)(8 bits)&lt;span class="hx-absolute -hx-mt-20" id="time-to-livettl8-bits">&lt;/span>
&lt;a href="#time-to-livettl8-bits" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>0x80 TTL:(128)&lt;/p>
&lt;h2>Protocal(8 bits)&lt;span class="hx-absolute -hx-mt-20" id="protocal8-bits">&lt;/span>
&lt;a href="#protocal8-bits" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>0x06 TCP:(6)&lt;/p>
&lt;h2>Header Checksum(16 bits)&lt;span class="hx-absolute -hx-mt-20" id="header-checksum16-bits">&lt;/span>
&lt;a href="#header-checksum16-bits" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>0x2e35&lt;/p>
&lt;h2>Source IP Address(32 bits)&lt;span class="hx-absolute -hx-mt-20" id="source-ip-address32-bits">&lt;/span>
&lt;a href="#source-ip-address32-bits" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>0x 0a:fe:c9:ad -&amp;gt; 10.254.201.173&lt;/p>
&lt;h2>Destination IP Address(32 bits)&lt;span class="hx-absolute -hx-mt-20" id="destination-ip-address32-bits">&lt;/span>
&lt;a href="#destination-ip-address32-bits" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>0x ac:10:79:65 -&amp;gt; 172.16.121.101&lt;/p>
&lt;h1>References&lt;/h1>&lt;ol>
&lt;li>&lt;a href="http://user.it.uu.se/~rmg/teaching/IP.pdf" target="_blank" rel="noopener">ip fragmentation and reassembly&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://en.m.wikipedia.org/wiki/IPv4#Fragmentation_and_reassembly" target="_blank" rel="noopener">fragmentation &amp;amp; reassembly&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://mp.weixin.qq.com/s/ifZk5Ox9cnixq1ZxgwFBSw" target="_blank" rel="noopener">ip é‡ç»„&lt;/a>&lt;/li>
&lt;/ol></description></item></channel></rss>